<section class="signUp-container">
  <div class="col-xl-6">
    <div class="mt-4">
      <h2 class="border-bottom pb-4 exo signUp-container__header">Sign Up</h2>
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Name</label> <br />
          <div class="form-group">
            <input
              style="width: 48%; display: inline-flex; margin-right: 4%"
              formControlName="firstName"
              type="text"
              class="form-control col-6"
              placeholder="First Name"
              required />
            <div
              class="signUp-container__alert"
              *ngIf="
                (firstName?.invalid &&
                  (firstName?.touched || firstName?.dirty)) ||
                submitted
              ">
              <div *ngIf="firstName?.errors?.['required']">
                First Name can't be emtpy
              </div>
            </div>
          </div>
          <div class="form-group">
            <input
              style="width: 48%; display: inline-flex"
              formControlName="lastName"
              type="text"
              class="form-control"
              placeholder="Last Name"
              required />
            <div
              class="signUp-container__alert"
              *ngIf="
                (lastName?.invalid && (lastName?.touched || lastName?.dirty)) ||
                submitted
              ">
              <div *ngIf="lastName?.errors?.['required']">
                Last Name can't be emtpy
              </div>
            </div>
          </div>
        </div>

        <div class="form-group">
          <label>DOB</label> <br />
          <input
            style="width: 32%; display: inline-flex; margin-right: 4%"
            formControlName="DOB"
            type="date"
            class="form-control"
            placeholder="DOB"
            required />
          <div
            class="signUp-container__alert"
            *ngIf="
              (getDOB?.invalid && (getDOB?.touched || getDOB?.dirty)) ||
              submitted
            ">
            <div *ngIf="getDOB?.errors?.['required']">
              Date of Birth can't be emtpy
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>User Type</label> <br />
          <select
            class="form-control"
            (change)="changeType($event)"
            formControlName="userType">
            <option value="">User Type</option>
            <option *ngFor="let item of USER_TYPE" [value]="item">
              {{ item }}
            </option>
          </select>
          <div
          class="signUp-container__alert"
          *ngIf="
            (userType?.invalid &&
              (userType?.touched || userType?.dirty)) ||
            submitted
          ">
          <div *ngIf="userType?.errors?.['required']">
            User type should be selected.
          </div>
        </div>
        </div>
        <div class="form-group" formGroupName="address">
          <label>Address</label> <br />
          <input
            style="width: 32%; display: inline-flex; margin-right: 4%"
            formControlName="street"
            type="text"
            class="form-control"
            placeholder="Street"/>
          <input
            style="width: 28%; display: inline-flex; margin-right: 4%"
            formControlName="city"
            type="text"
            class="form-control"
            placeholder="City"/>
          <input
            style="width: 32%; display: inline-flex"
            formControlName="country"
            type="text"
            class="form-control"
            placeholder="Country"/>
        </div>
        <div class="form-group">
          <label>Contact</label> <br />
          <input
            style="width: 48%; display: inline-flex; margin-right: 4%"
            formControlName="phone"
            type="text"
            class="form-control"
            placeholder="Phone"
            required />
          <div
            class="signUp-container__alert"
            *ngIf="
              (getPhone?.invalid && (getPhone?.touched || getPhone?.dirty)) ||
              submitted
            ">
            <div *ngIf="getPhone?.errors?.['required']">
              Phone number can't be emtpy
            </div>
            <div *ngIf="getPhone?.errors?.['pattern']">
              Phone number must be number
            </div>
            <div
              *ngIf="getPhone?.errors?.['minlength'] || getPhone?.errors?.['maxlength']">
              Phone number must be 10 digits
            </div>
          </div>
        </div>
        <div class="form-group" formGroupName="driverLicense">
          <label>Driver License</label> <br />
          <input
            style="width: 32%; display: inline-flex; margin-right: 4%"
            formControlName="number"
            type="text"
            class="form-control"
            placeholder="License Number"
            required />
          <input
            style="width: 28%; display: inline-flex; margin-right: 4%"
            formControlName="countryIssued"
            type="text"
            class="form-control"
            placeholder="Country Issue"
            required />
          <input
            style="width: 32%; display: inline-flex"
            formControlName="dateIssued"
            type="date"
            class="form-control"
            placeholder="Date Issued"
            required />
          <div
            class="signUp-container__alert"
            *ngIf="
              dateIssued?.touched &&
              driverLicenseNumber?.touched &&
              countryIssued?.touched
            ">
            <div
              *ngIf="driverLicenseNumber?.errors?.['required'] || 
                        (driverLicenseNumber?.invalid &&
                        driverLicenseNumber?.touched) ">
              Driver License Number can't be empty
            </div>
            <div
              *ngIf="countryIssued?.errors?.['required'] || 
                        (countryIssued?.invalid &&
                        countryIssued?.touched)">
              Country Issued can't be empty
            </div>
            <div
              *ngIf="dateIssued?.errors?.['required'] || 
                        (dateIssued?.invalid &&
                        dateIssued?.touched)">
              Date Issued can't be empty
            </div>
            <div
              *ngIf="driverLicenseNumber?.errors?.['minlength'] || getPhone?.errors?.['maxlength']">
              Driver License must be between 7 and 8 digits
            </div>
          </div>
        </div>
        <div class="form-group">
          <label>Email</label> <br />
          <input
            style="width: 48%; display: inline-flex"
            formControlName="email"
            type="email"
            class="form-control"
            placeholder="Email"
            required />
          <div
            class="signUp-container__alert"
            *ngIf="
              (email?.invalid && (email?.touched || email?.dirty)) || submitted
            ">
            <div *ngIf="email?.errors?.['required']">email can't be emtpy</div>
          </div>
        </div>
        <div class="form-group">
          <label>Password</label> <br />
          <input
            style="width: 48%; display: inline-flex; margin-right: 4%"
            formControlName="password"
            type="password"
            class="form-control"
            placeholder="password"
            required />
          <input
            style="width: 48%; display: inline-flex"
            formControlName="confirmPassword"
            type="password"
            class="form-control"
            placeholder="Re-enter Password"
            required />

          <div class="signUp-container__alert">
            <div *ngIf="registerForm?.errors?.['mismatch'] && submitted">
              password does not match
            </div>
            <div
              *ngIf="password?.errors?.['required'] && password?.invalid && (password?.touched || password?.dirty)">
              password is required
            </div>
            <div
              *ngIf="confirmPassword?.errors?.['required'] && confirmPassword?.invalid && (confirmPassword?.touched || confirmPassword?.dirty)">
              confirm password is required
            </div>
          </div>
        </div>
        <br />
        <button type="submit" class="btn btn-primary">Register</button>
        <a routerLink="/" class="btn btn-link">Cancel</a>
      </form>
    </div>
  </div>
</section>
